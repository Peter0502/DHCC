<?xml version="1.0" encoding="GBK" ?>
<TRANSACTION RIGHTS="11110000" TITLE="8804   账单列表查询"
  xmlns="http://www.otd.org/MENU" xmlns:W3CNS="http://www.w3c.org">
<VARIABLE UPLOOP="TRUE">
		<ITEM LINE="3"  COL="3" TYPE="%-44s" FUNCTIONS=
		"T(8802                             账单列表查询)"/>
		<ITEM LINE="4"  COL="3"  TYPE="%-74s" FUNCTIONS=
		"T(─────────────────────────────────────)"/>
		<ITEM NAME="#TXNO"    TYPE="%-4s"  FUNCTIONS="T($TXNO=8804)"/>
		<ITEM NAME="#MSGTYPE" TYPE="%-5s"  FUNCTIONS="T($MSGTYPE=03001)"/>
		<ITEM NAME="#TXCD"    TYPE="%4s"   FUNCTIONS="T(8804)"/>      <!---交易代码--->



  <ITEM LINE="7"  COL="10" TYPE="%-13s" INPUT="LABEL" NAME="#LBL_ID_TYPE" FUNCTIONS="T(币        种:)"/>
<ITEM LINE="7" COL="25" NAME="#CURR_CD" TYPE="%-1s" INPUT="SELECT" DEVICE="KEYBOARD" FUNCTIONS="V(NB)T(1)">
		<SELECT>
			<OPTION VALUE="I" TITLE = "0.外币"/>
			<OPTION VALUE="T" TITLE = "1.本币"/>
		</SELECT>
	</ITEM>
	
  <ITEM LINE="9"  COL="10" TYPE="%-13s" INPUT="LABEL" NAME="#CRD_ID_NO" FUNCTIONS="T(卡        号:)"/>
  <ITEM LINE="9"  COL="25" NAME="#CRD_NO"  INPUT="TEXT" TYPE="%-19s"  DEVICE="KEYBOARD" FUNCTIONS="">
		<ONLOSTFOCUS>"{
			dim @l as number;
			
			@l = len(#CRD_NO);
			
			if (#CURR_CD =='l' )
			{
				if (@l == 19)
				{
					commsend_001();
					//callserver();
					if ($FD12 != '0000')
					{
						showmsg(geterror());
					//	return(false);
					}
				}
				else
				{
					showmsg('卡号位数错误！');
					//return(false);
				}
			}
		}"</ONLOSTFOCUS>
	</ITEM>
	<ITEM LINE="11"  COL="10" TYPE="%-13s" INPUT="LABEL" NAME="#STMT_START_DATE" FUNCTIONS="T(账单开始日期:)"/>
		<ITEM LINE="11"  COL="25" NAME="#SDATE"  INPUT="TEXT" TYPE="%-19s"  DEVICE="KEYBOARD" FUNCTIONS=""/>

  <ITEM LINE="13"  COL="10" TYPE="%-13s" INPUT="LABEL" NAME="#STMT_START_DATE" FUNCTIONS="T(账单结束日期:)"/>
  <ITEM LINE="13"  COL="25" NAME="#LST_DATE"  INPUT="TEXT" TYPE="%-19s"  DEVICE="KEYBOARD" FUNCTIONS=""/>
	

  <ITEM LINE="15"  COL="10" TYPE="%-13s" INPUT="LABEL" NAME="#STMT_START_DATE" FUNCTIONS="T(开 始  位 置:)"/>
 <ITEM LINE="15"  COL="25" NAME="#FIRSTROW"  INPUT="TEXT" TYPE="%-19s"  DEVICE="KEYBOARD" FUNCTIONS=""/>

 <ITEM LINE="17"  COL="10" TYPE="%-13s" INPUT="LABEL" NAME="#STMT_START_DATE" FUNCTIONS="T(结 束  位 置:)"/>
 <ITEM LINE="17"  COL="25" NAME="#LASTROW"  INPUT="TEXT" TYPE="%-19s"  DEVICE="KEYBOARD" FUNCTIONS=""/>
	
		
		<!--输出-->
		<ITEM NAME="#NEXTPAGE_FLG" TYPE="%-10s"  FUNCTIONS=""/>
		<ITEM NAME="#FIRSTROW" TYPE="%-4d"  FUNCTIONS=""/>
		<ITEM NAME="#LASTROW" TYPE="%-4d"   FUNCTIONS=""/>
		<ITEM NAME="#CARD_NO" TYPE="%-19s"   FUNCTIONS=""/>		
		<ITEM NAME="#TOTAL_ROWS" TYPE="%-4d"  FUNCTIONS=""/>
			
		<ITEM LINE="21"  COL="59" TYPE="%-6s" FUNCTIONS="T(确  定)" INPUT="BUTTON" >
			<ONCLICK>
					"{
							dim @tagvalue as string;
								dim @shuju as number;
							@shuju=initiccard('30','11111111111');
							initfd();
							commsend_001();
							$FD77='12050';
							$FD24=@shuju;
							$FD30=@shuju;
						  $FD44=@shuju;
							$FD45=@shuju;
							$FD48=@shuju;
							$FD49=@shuju;
							//callagn_credit();
							if($FD12 != '0000')
							{		
								showmsg(geterror());
							//	return(false);
							}
              #NEXTPAGE_FLG=@shuju;
              #FIRSTROW=@shuju;
              #LASTROW=@shuju;
              #CARD_NO=@shuju;
              #TOTAL_ROWS=@shuju;
              runoutput();
              close();
              }"
        </ONCLICK>
  </ITEM>
</VARIABLE>
<REQUEST>
</REQUEST>
<RESPONSE>
        <PACKAGE DEVICE="SCREEN" DESC="按任意键继续">
        NOTHING
        </PACKAGE>
        <PRINT>"{
        print( 8, 20,'是否有下一页标志:[1]',#NEXTPAGE_FLG);
        print( 9,20,'开始位置:[40]',#FIRSTROW);
        print( 10, 20,'结束位置:[10] ',#LASTROW);
        print( 11,20,'卡    号:[19]',#CARD_NO);
        print( 12,20,'总 条 数:[20]',#TOTAL_ROWS);
        }"
        </PRINT>
</RESPONSE>

</TRANSACTION>

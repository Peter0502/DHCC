<?xml version="1.0" encoding="GBK" ?>

<TRANSACTION RIGHTS="11111111" TITLE="D12 用户登录"
  xmlns="http://www.otd.org/MENU" xmlns:W3CNS="http://www.w3c.org">


<!--12345678901234567890123456789012345678901234567890123456789012345678901234567890-->
<!--         1         2         3         4         5         6         7         8-->

<!--  注意：各个配置项的COL 属性最好是奇数, 这样可以避免出现乱码。                  -->
<!--        另外, 每个汉字的开始列号也最好是奇数, 每个字符串的长度也最好是偶数。    -->
<COMMSEND>"{
	commsend_001();
}"
</COMMSEND>
<COMMRECV>"{
	commrecv_001();
}"
</COMMRECV>
<VARIABLE>
  <ITEM LINE="3"  COL="3" TYPE="%-40s" FUNCTIONS=
    "T(D12                             用户登录)"/>
<!--12345678901234567890123456789012345678901234567890123456789012345678901234567890-->
<!--         1         2         3         4         5         6         7         8-->
  <ITEM LINE="4"  COL="3" TYPE="%-74s" FUNCTIONS=
    "T(─────────────────────────────────────)"/>
<!--12345678901234567890123456789012345678901234567890123456789012345678901234567890-->
 
  <ITEM LINE="8"  COL="7" TYPE="%-30s" FUNCTIONS="T(┌─────────────┐)"/>
  <ITEM LINE="9"  COL="7" TYPE="%-30s" FUNCTIONS="T(│                          │)"/>
  <ITEM LINE="10" COL="7" TYPE="%-30s" FUNCTIONS="T(│  请输入柜员号: 12        │)"/>
  <ITEM LINE="11" COL="7" TYPE="%-30s" FUNCTIONS="T(│                          │)"/>
  <ITEM LINE="12" COL="7" TYPE="%-30s" FUNCTIONS="T(│                          │)"/>
  <ITEM LINE="13" COL="7" TYPE="%-30s" FUNCTIONS="T(│  请输入密  码: 123456    │)"/>
  <ITEM LINE="14" COL="7" TYPE="%-30s" FUNCTIONS="T(│                          │)"/>
  <ITEM LINE="15" COL="7" TYPE="%-30s" FUNCTIONS="T(└─────────────┘)"/>


  <ITEM NAME="#TXNO"   TYPE="%4d"  FUNCTIONS="T($TXNO=9998)"/>
  <ITEM NAME="#MINAMT2" TYPE="%-1s" FUNCTIONS="T($MINAMT2=999999999999)"/>
  <ITEM NAME="#MINAMT1" TYPE="%-1s" FUNCTIONS="T($MINAMT1=100)"/>
  <ITEM NAME="#APTYPE" TYPE="%-1s" FUNCTIONS="T(D)"/>
  <ITEM NAME="#ACTNO"  TYPE="%18d" FUNCTIONS="T(000000000000000000)"/>
  <ITEM NAME="#MAXAMT1" TYPE="%1s" FUNCTIONS="T($MAXAMT1=500000)"/>

  <ITEM NAME="#KINBR"  TYPE="%-7s" FUNCTIONS=""/>
  <ITEM NAME="#OPNBR"  TYPE="%-7s" FUNCTIONS=""/>
  <ITEM NAME="#FLG" TYPE="%1s" FUNCTIONS="T(0)"/>
  <ITEM NAME="#SETMSR" TYPE="%1s" FUNCTIONS="T(0)">
  <ONLOSTFOCUS>"{
	$TLRNO='9999';
	setconfig($TLRNO+'.'+'TERM','1');
	setconfig($TLRNO+'.'+'MSR','1');
	setconfig($TLRNO+'.'+'MSRPORT','1');
	reconfig();	
  }"
  </ONLOSTFOCUS>
  </ITEM>
  <ITEM LINE="10" COL="25" NAME="#TLRNO"  TYPE="%4d" DEVICE="FIXMSR" FUNCTIONS="V(0000,9999)m($MSR2,1,4)">
	<ONLOSTFOCUS>"{
		enable(#TLRNO,false);
		$TLRNO=#TLRNO;		
		$TXNO='9998';
		commsend_001();
		callserver();
		if($FD12!='0000'){
				showmsg('FD12='+$FD12);
				showmsg(geterror());
				return(false);
		}
		$RIGHTS=$FD13;
		//showmsg($RIGHTS);
		//$RIGHTS='11111111111111111111111111111111';
		$BRNAME=$FD25;
		$KINBR=$FD3;
		$OPNBR=$FD2;
		$HDATE=$FD47;
		$TLRLVL=$FD68;
		settitle($HDATE,$BRNAME,$TLRNO+'  ');
		$TXNO='9988';
	}"
	</ONLOSTFOCUS>
  </ITEM>
  <ITEM LINE="13" COL="25" NAME="#PASSWD" TYPE="%6s"  DEVICE="KEYBOARD" FUNCTIONS="i()"/>
  <ITEM NAME="#TLPASS" TYPE="%-8s"   FUNCTIONS="T($XPASS)"/>
  <ITEM NAME="#SUBMIT" TYPE="%-1s" FUNCTIONS=""/>
  </VARIABLE>

<REQUEST>
<PACKAGE SERVICE="oper" >
</PACKAGE>
</REQUEST>

<RESPONSE></RESPONSE>

<OUTPUT></OUTPUT>

</TRANSACTION>


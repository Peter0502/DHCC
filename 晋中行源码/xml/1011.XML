<?xml version="1.0" encoding="GBK" ?>
<TRANSACTION RIGHTS="11111111" TITLE="1011  事后监督"
  xmlns="http://www.otd.org/MENU" xmlns:W3CNS="http://www.w3c.org">
<COMMSEND>"{
}" 
</COMMSEND>
<COMMRECV>"{
}"
</COMMRECV>
<VARIABLE>
<!--
<ITEM LINE="3"  COL="3" TYPE="%-75s" FUNCTIONS="T(1011                             本次监督)"/>
<ITEM LINE="4"  COL="1"  TYPE="%-78s" FUNCTIONS=
   "T(──────────────────────────────────────────)"/>
-->
<!--12345678901234567890123456789012345678901234567890123456789012345678901234567890-->
<!--         1         2         3         4         5         6         7         8-->
  <ITEM NAME="#TXNO" TYPE="%-4s" FUNCTIONS="T($TXNO=3646)"/>
  <ITEM NAME="#MSGTYPE" TYPE="%-5s" FUNCTIONS="T($MSGTYPE=03001)"/>


 <ITEM NAME="#VALUE4" TYPE="%-20s" />
 <ITEM LINE="04" COL="02" TYPE="%-7s" FUNCTIONS="T(流水号:)"/>
 <ITEM LINE="06" COL="01" TYPE="%-78s" FUNCTIONS="T(──────────────────────────────────)"/>
 <ITEM LINE="19" COL="01" TYPE="%-78s" FUNCTIONS="T(──────────────────────────────────)"/>
 <ITEM LINE="03" COL="20"  TYPE="%-9s" FUNCTIONS="T(交易名称:)"/>
 <ITEM LINE="03" COL="60"  TYPE="%-9s" FUNCTIONS="T(交易代码:)"/>
 <ITEM LINE="05" COL="20"  TYPE="%-9s" FUNCTIONS="T(交易日期:)"/>
 <ITEM LINE="05" COL="42"  TYPE="%-7s" FUNCTIONS="T(操作员:)"/>
 <ITEM LINE="05" COL="60"  TYPE="%-9s" FUNCTIONS="T(交易机构:)"/>

 <ITEM LINE="07" COL="03" NAME="#TNAME1" TYPE="%-16s" VISABLE="FALSE" FUNCTIONS="要素1:" INPUT="LABEL"/>
 <ITEM LINE="08" COL="03" NAME="#TNAME2" TYPE="%-16s" VISABLE="FALSE" FUNCTIONS="要素2:" INPUT="LABEL"/>
 <ITEM LINE="09" COL="03" NAME="#TNAME3" TYPE="%-16s" VISABLE="FALSE" FUNCTIONS="要素3:" INPUT="LABEL"/>
 <ITEM LINE="10" COL="03" NAME="#TNAME4" TYPE="%-16s" VISABLE="FALSE" FUNCTIONS="要素4:" INPUT="LABEL"/>
 <ITEM LINE="11" COL="03" NAME="#TNAME5" TYPE="%-16s" VISABLE="FALSE" FUNCTIONS="要素5:" INPUT="LABEL"/>
 <ITEM LINE="12" COL="03" NAME="#TNAME6" TYPE="%-16s" VISABLE="FALSE" FUNCTIONS="要素6:" INPUT="LABEL"/>
 <ITEM LINE="13" COL="03" NAME="#TNAME7" TYPE="%-16s" VISABLE="FALSE" FUNCTIONS="要素7:" INPUT="LABEL"/>
 <ITEM LINE="14" COL="03" NAME="#TNAME8" TYPE="%-16s" VISABLE="FALSE" FUNCTIONS="要素8:" INPUT="LABEL"/>
 <ITEM LINE="15" COL="03" NAME="#TNAME9" TYPE="%-16s" VISABLE="FALSE" FUNCTIONS="要素9:" INPUT="LABEL"/>
 <ITEM LINE="16" COL="03" NAME="#TNAME10" TYPE="%-16s" VISABLE="FALSE" FUNCTIONS="要素10:" INPUT="LABEL"/>

 <ITEM LINE="04" COL="40" NAME="#CHECK1" TYPE="%-14s" VISABLE="FALSE" FUNCTIONS="正确" INPUT="LABEL"/>

  <ITEM NAME="#C1"  TYPE="%1s" FUNCTIONS="T()"/>
  <ITEM NAME="#C2"  TYPE="%1s" FUNCTIONS="T()"/>
  <ITEM NAME="#C3"  TYPE="%1s" FUNCTIONS="T()"/>
  <ITEM NAME="#C4"  TYPE="%1s" FUNCTIONS="T()"/>
  <ITEM NAME="#C5"  TYPE="%1s" FUNCTIONS="T()"/>
  <ITEM NAME="#C6"  TYPE="%1s" FUNCTIONS="T()"/>
  <ITEM NAME="#C7"  TYPE="%1s" FUNCTIONS="T()"/>
  <ITEM NAME="#C8"  TYPE="%1s" FUNCTIONS="T()"/>
  <ITEM NAME="#C9"  TYPE="%1s" FUNCTIONS="T()"/>
  <ITEM NAME="#C10"  TYPE="%1s" FUNCTIONS="T()"/>

  <ITEM NAME="#T1"  TYPE="%-30s" FUNCTIONS="T()"/>
  <ITEM NAME="#T2"  TYPE="%-30s" FUNCTIONS="T()"/>
  <ITEM NAME="#T3"  TYPE="%-30s" FUNCTIONS="T()"/>
  <ITEM NAME="#T4"  TYPE="%-30s" FUNCTIONS="T()"/>
  <ITEM NAME="#T5"  TYPE="%-30s" FUNCTIONS="T()"/>
  <ITEM NAME="#T6"  TYPE="%-30s" FUNCTIONS="T()"/>
  <ITEM NAME="#T7"  TYPE="%-30s" FUNCTIONS="T()"/>
  <ITEM NAME="#T8"  TYPE="%-30s" FUNCTIONS="T()"/>
  <ITEM NAME="#T9"  TYPE="%-30s" FUNCTIONS="T()"/>
  <ITEM NAME="#T10"  TYPE="%-30s" FUNCTIONS="T()"/>

  <ITEM NAME="#L1"  TYPE="%-1s" FUNCTIONS="T()"/>
  <ITEM NAME="#L2"  TYPE="%-1s" FUNCTIONS="T()"/>
  <ITEM NAME="#L3"  TYPE="%-1s" FUNCTIONS="T()"/>
  <ITEM NAME="#L4"  TYPE="%-1s" FUNCTIONS="T()"/>
  <ITEM NAME="#L5"  TYPE="%-1s" FUNCTIONS="T()"/>
  <ITEM NAME="#L6"  TYPE="%-1s" FUNCTIONS="T()"/>
  <ITEM NAME="#L7"  TYPE="%-1s" FUNCTIONS="T()"/>
  <ITEM NAME="#L8"  TYPE="%-1s" FUNCTIONS="T()"/>
  <ITEM NAME="#L9"  TYPE="%-1s" FUNCTIONS="T()"/>
  <ITEM NAME="#L10"  TYPE="%-1s" FUNCTIONS="T()"/>
 <ITEM LINE="04"  COL="10" NAME="#TRACENO"  TYPE="%6d"   DEVICE="KEYBOARD" FUNCTIONS="V(NB)">
<ONLOSTFOCUS>
"{
	dim @fd95 as string;
	dim @fd37 as string;
	dim @cnt as number;
	dim @tot_cnt as number;
	dim @buf as string;
	dim @name as string;
	dim @brf as string;
	dim @value as string;
	dim @flag as string;
	dim @f1 as number;
	dim @f2 as number;
	dim @len as number;
	dim @value_len as number;
	dim @tx_name as string;
	initfd();	
	$FD16='3646';
	$FD65=#TRACENO;
	commsend_001();
	$FD20='1'; //加上此标志为更新监督状态,每监督完一笔就更新一笔
	callserver();
	if($FD12!='0000'){
		showmsg(geterror());
		return(false);
	}
	@fd95=$FD95;
	@tx_name=@fd37;
	@buf=substr(@fd95,0,2);
	@tot_cnt=atoi(@buf);
	@cnt=1;
	@len=@len+2;
	while(true){
		@name=substr(@fd95,@len,20);
		@len=@len+20;
		@buf=substr(@fd95,@len,2);
		@len=@len+2;
		@value_len=atoi(@buf);
		@flag=substr(@fd95,@len,5);
		@len=@len+5;
		@value=substr(@fd95,@len,@value_len);
		@len=@len+@value_len;
		@brf=substr(@fd95,@len,20);
		@len=@len+20;
		@buf=substr(@flag,0,1);
		@f1=atoi(@buf);
		@buf=substr(@flag,1,1);
		@f2=atoi(@buf);
		switch(@cnt)
		{
			case 1: #TNAME1=delspace(@name)+':';
				if(@f1==0){
					#L1='0';
				}
				else{
					#L1='1';
				}
				if(@f2==0){
					#TEXT1=@value;
					enable(#TEXT1,false);
					#C1='0';
				}
				else{
					#T1=@value;
					#C1='1';
				}
                                if(len(@brf) &gt; 0)
                                {
                                        #LABEL1='['+@brf+']';
                                        show(#LABEL1,true);
                                }
				show(#TEXT1,true);
				show(#TNAME1,true);	
				break;
			case 2: #TNAME2=delspace(@name)+':';
				if(@f1==0){
					#L2='0';
				}
				else{
					#L2='1';
				}
				if(@f2==0){
					#TEXT2=@value;
					enable(#TEXT2,false);
					#C2='0';
				}
				else{
					#T2=@value;
					#C2='1';
				}
                                if(len(@brf) &gt; 0)
                                {
                                        #LABEL2='['+@brf+']';
                                        show(#LABEL2,true);
                                }
				show(#TNAME2,true);	
				show(#TEXT2,true);	
				break;
			case 3: #TNAME3=delspace(@name)+':';
				if(@f1==0){
					#L3='0';
				}
				else{
					#L3='1';
				}
				if(@f2==0){
					#TEXT3=@value;
					enable(#TEXT3,false);
					#C3='0';
				}
				else{
					#T3=@value;
					#C3='1';
				}
                                if(len(@brf) &gt; 0)
                                {
                                        #LABEL3='['+@brf+']';
                                        show(#LABEL3,true);
                                }
				show(#TNAME3,true);	
				show(#TEXT3,true);	
				break;
			case 4: #TNAME4=delspace(@name)+':';
				if(@f1==0){
					#L4='0';
				}
				else{
					#L4='1';
				}
				if(@f2==0){
					#TEXT4=@value;
					enable(#TEXT4,false);
					#C4='0';
				}
				else{
					#T4=@value;
					#C4='1';
				}
                                if(len(@brf) &gt; 0)
                                {
                                        #LABEL4='['+@brf+']';
                                        show(#LABEL4,true);
                                }
				show(#TNAME4,true);	
				show(#TEXT4,true);	
				break;
			case 5: #TNAME5=delspace(@name)+':';
				if(@f1==0){
					#L5='0';
				}
				else{
					#L5='1';
				}
				if(@f2==0){
					#TEXT5=@value;
					enable(#TEXT5,false);
					#C5='0';
				}
				else{
					#T5=@value;
					#C5='1';
				}
                                if(len(@brf) &gt; 0)
                                {
                                        #LABEL5='['+@brf+']';
                                        show(#LABEL5,true);
                                }
				show(#TNAME5,true);	
				show(#TEXT5,true);	
				break;
			case 6: #TNAME6=delspace(@name)+':';
				if(@f1==0){
					#L6='0';
				}
				else{
					#L6='1';
				}
				if(@f2==0){
					#TEXT6=@value;
					enable(#TEXT6,false);
					#C6='0';
				}
				else{
					#T6=@value;
					#C6='1';
				}
                                if(len(@brf) &gt; 0)
                                {
                                        #LABEL6='['+@brf+']';
                                        show(#LABEL6,true);
                                }
				show(#TNAME6,true);	
				show(#TEXT6,true);	
				break;
			case 7: #TNAME7=delspace(@name)+':';
				if(@f1==0){
					#L7='0';
				}
				else{
					#L7='1';
				}
				if(@f2==0){
					#TEXT7=@value;
					enable(#TEXT7,false);
					#C7='0';
				}
				else{
					#T7=@value;
					#C7='1';
				}
                                if(len(@brf) &gt; 0)
                                {
                                        #LABEL7='['+@brf+']';
                                        show(#LABEL7,true);
                                }
				show(#TNAME7,true);	
				show(#TEXT7,true);	
				break;
			case 8: #TNAME8=delspace(@name)+':';
				if(@f1==0){
					#L8='0';
				}
				else{
					#L8='1';
				}
				if(@f2==0){
					#TEXT8=@value;
					enable(#TEXT8,false);
					#C8='0';
				}
				else{
					#T8=@value;
					#C8='1';
				}
                                if(len(@brf) &gt; 0)
                                {
                                        #LABEL8='['+@brf+']';
                                        show(#LABEL8,true);
                                }
				show(#TNAME8,true);	
				show(#TEXT8,true);	
				break;
			case 9: #TNAME9=delspace(@name)+':';
				if(@f1==0){
					#L9='0';
				}
				else{
					#L9='1';
				}
				if(@f2==0){
					#TEXT9=@value;
					enable(#TEXT9,false);
					#C9='0';
				}
				else{
					#T9=@value;
					#C9='1';
				}
                                if(len(@brf) &gt; 0)
                                {
                                        #LABEL9='['+@brf+']';
                                        show(#LABEL9,true);
                                }
				show(#TNAME9,true);	
				show(#TEXT9,true);	
				break;
			case 10: #TNAME10=delspace(@name)+':';
				if(@f1==0){
					#L10='0';
				}
				else{
					#L10='1';
				}
				if(@f2==0){
					#TEXT10=@value;
					enable(#TEXT10,false);
					#C10='0';
				}
				else{
					#T10=@value;
					#C10='1';
				}
                                if(len(@brf) &gt; 0)
                                {
                                        #LABEL10='['+@brf+']';
                                        show(#LABEL10,true);
                                }
				show(#TNAME10,true);	
				show(#TEXT10,true);	
				break;
			default:
				retrun(false);
		}
		@cnt=@cnt+1;	
		if(@cnt>@tot_cnt){ break;}
	}
	enable(#TRACENO,false);
}"
</ONLOSTFOCUS>
</ITEM>
<ITEM NAME="#ENABLE"  TYPE="%-1s"  FUNCTIONS="">
<ONLOSTFOCUS>
"{
       #TXNAME=$FD37;
       #TXDATE=$FD44;
       #TXCODE=$FD92;
       #TEL=$FD36;
       #TXBRNO=$FD91;
       show(#TXNAME,true);
       show(#TXDATE,true);
       show(#TEL,true);
       show(#TXBRNO,true);
       show(#TXCODE,true);
       enable(#TXNAME,false);
       enable(#TXDATE,false);
       enable(#TEL,false);
       enable(#TXBRNO,false);
       enable(#TXCODE,false);
}"
</ONLOSTFOCUS>
</ITEM>

 <ITEM LINE="03"  COL="29" NAME="#TXNAME"   TYPE="%-20s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 <ITEM LINE="03"  COL="69" NAME="#TXCODE"   TYPE="%-4s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 <ITEM LINE="05"  COL="29" NAME="#TXDATE"   TYPE="%-8s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 <ITEM LINE="05"  COL="49" NAME="#TEL"      TYPE="%-4s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 <ITEM LINE="05"  COL="69" NAME="#TXBRNO"   TYPE="%-5s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>

 <ITEM LINE="07"  COL="17" NAME="#TEXT1"    TYPE="%-30s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 <ITEM LINE="08"  COL="17" NAME="#TEXT2"    TYPE="%-30s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 <ITEM LINE="09"  COL="17" NAME="#TEXT3"    TYPE="%-30s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 <ITEM LINE="10"  COL="17" NAME="#TEXT4"    TYPE="%-30s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 <ITEM LINE="11"  COL="17" NAME="#TEXT5"    TYPE="%-30s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 <ITEM LINE="12"  COL="17" NAME="#TEXT6"    TYPE="%-30s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 <ITEM LINE="13"  COL="17" NAME="#TEXT7"    TYPE="%-30s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 <ITEM LINE="14"  COL="17" NAME="#TEXT8"    TYPE="%-30s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 <ITEM LINE="15"  COL="17" NAME="#TEXT9"    TYPE="%-30s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 <ITEM LINE="16"  COL="17" NAME="#TEXT10"   TYPE="%-30s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 
 <ITEM LINE="07"  COL="57" NAME="#LABEL1"    TYPE="%-22s"  VISABLE="FALSE"  FUNCTIONS=""  INPUT="LABEL"/>
 <ITEM LINE="08"  COL="57" NAME="#LABEL2"    TYPE="%-22s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="LABEL"/>
 <ITEM LINE="09"  COL="57" NAME="#LABEL3"    TYPE="%-22s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="LABEL"/>
 <ITEM LINE="10"  COL="57" NAME="#LABEL4"    TYPE="%-22s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="LABEL"/>
 <ITEM LINE="11"  COL="57" NAME="#LABEL5"    TYPE="%-22s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="LABEL"/>
 <ITEM LINE="12"  COL="57" NAME="#LABEL6"    TYPE="%-22s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="LABEL"/>
 <ITEM LINE="13"  COL="57" NAME="#LABEL7"    TYPE="%-22s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="LABEL"/>
 <ITEM LINE="14"  COL="57" NAME="#LABEL8"    TYPE="%-22s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="LABEL"/>
 <ITEM LINE="15"  COL="57" NAME="#LABEL9"    TYPE="%-22s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="LABEL"/>
 <ITEM LINE="16"  COL="57" NAME="#LABEL10"   TYPE="%-22s"  VISABLE="FALSE"   FUNCTIONS="" INPUT="TEXT"/>
 
  <ITEM NAME="#SHJDFG"  TYPE="%-1s"  FUNCTIONS=""/>
  <ITEM NAME="#TXNUM"   TYPE="%-4s"  FUNCTIONS=""/>
  <ITEM NAME="#TXNAME"  TYPE="%-20s"  FUNCTIONS=""/>
  <ITEM NAME="#ACTNO"   TYPE="%-18s" FUNCTIONS=""/>
  <ITEM NAME="#TXAMT"   TYPE="%13.2f"  FUNCTIONS=""/>
  <ITEM NAME="#HTRMSEQ" TYPE="%-2s"  FUNCTIONS="T($HTRMSEQ)"/>
  <ITEM NAME="#HEJFNO"  TYPE="%-6s"  FUNCTIONS="T($HEJFNO)"/>
  <ITEM NAME="#KINBR"   TYPE="%-7s"  FUNCTIONS="T($KINBR)"/>            <!--交易局号-->
  <ITEM NAME="#TRMSEQ"  TYPE="%-2s"  FUNCTIONS="T($TRMSEQ)"/>
  <ITEM NAME="#OTRMSEQ" TYPE="%-9s"  FUNCTIONS="T(#KINBR+#TRMSEQ)"/>            
  <ITEM NAME="#EJFNO"   TYPE="%-6s"  FUNCTIONS="T($TXTNO)"/>
  <ITEM NAME="#TASKID"  TYPE="%-2s"  FUNCTIONS="T(UF)"/>
  <ITEM NAME="#TMTYPE"  TYPE="%-1s"  FUNCTIONS="T(0)"/>
  <ITEM NAME="#APTYPE"  TYPE="%-1s"  FUNCTIONS="T(Q)"/>
  <ITEM NAME="#TXNO"    TYPE="%-2s"  FUNCTIONS="T(51)"/>
  <ITEM NAME="#PTYPE"   TYPE="%-1s"  FUNCTIONS="T(0)"/>
  <ITEM NAME="#DSCPT"   TYPE="%-3s"  FUNCTIONS="T(001)"/>              <!--交易摘要-->
  <ITEM NAME="#HCODE"   TYPE="%-1s"  FUNCTIONS="T(0)"/>
  <ITEM NAME="#RCODE"   TYPE="%-1s"  FUNCTIONS="T(0)"/>
  <ITEM NAME="#TXTYPE"  TYPE="%-2s"  FUNCTIONS="a( )"/>                <!--帐务别-->
  <ITEM NAME="#MULTTX"  TYPE="%-1s"  FUNCTIONS="T(0)"/>
  <ITEM NAME="#TXCNT"   TYPE="%2d"   FUNCTIONS="T($OCCURS=#TXCNT)J(#TOTCNT)" />
  <ITEM NAME="#TOTCNT"  TYPE="%5d"   FUNCTIONS="E(#TOTCNT+#TXCNT)J(#TOTCNTC)"/>
  <ITEM NAME="#TOTCNTC" TYPE="%5d"   FUNCTIONS="T($TOTCNT=#TOTCNT)"/>
  <ITEM NAME="#CRDB"    TYPE="%-1s"  FUNCTIONS="T(1)"/>
  <ITEM NAME="#SUPIN1"  TYPE="%-1s"  FUNCTIONS="T(0)"/>
  <ITEM NAME="#SUPIN2"  TYPE="%-1s"  FUNCTIONS="T(0)"/>
  <ITEM NAME="#REASON"  TYPE="%-6s"  FUNCTIONS="T(0)"/>
  <ITEM NAME="#TLRNO"   TYPE="%-6s"  FUNCTIONS="T($TLRNO)"/>
  <ITEM NAME="#TRNMOD"  TYPE="%-1s"  FUNCTIONS="T(0)"/>
  <ITEM NAME="#SBTMOD"  TYPE="%-1s"  FUNCTIONS="T(0)"/>
  <ITEM NAME="#CURCD"   TYPE="%-3s"  FUNCTIONS="T(RMB)"/>
  <ITEM NAME="#XCRT"    TYPE="%-8s"  FUNCTIONS="T($XCRT)"/>
  <ITEM NAME="#NBCD"    TYPE="%-1s"  FUNCTIONS="T(0)"/>  
  <ITEM NAME="#MSG"    TYPE="%-1s"  FUNCTIONS=""/>  

  <ITEM NAME="#SERVER"  TYPE="%-1s"  FUNCTIONS="T($ORKINBR=$KINBR)T($TTSKID=UF)"/> 

  <ITEM LINE="20"  COL="43" TYPE="%-8s" NAME="#CHECK" FUNCTIONS="T(核  对)" INPUT="BUTTON" >
  <ONCLICK>
  "{
	dim @f1 as string;
	dim @f2 as string;
	dim @f3 as string;
	dim @f4 as string;
	dim @f5 as string;
	dim @f6 as string;
	dim @f7 as string;
	dim @f8 as string;
	dim @f9 as string;
	dim @f10 as string;

	dim @e1 as string;
	dim @e2 as string;
	dim @e3 as string;
	dim @e4 as string;
	dim @e5 as string;
	dim @e6 as string;
	dim @e7 as string;
	dim @e8 as string;
	dim @e9 as string;
	dim @e10 as string;

	dim @eg1 as string;
	dim @eg2 as string;
	dim @eg3 as string;
	dim @eg4 as string;
	dim @eg5 as string;
	dim @eg6 as string;
	dim @eg7 as string;
	dim @eg8 as string;
	dim @eg9 as string;
	dim @eg10 as string;

	dim @screenmsg as string;
	dim @transfg as string;
	dim @errmsg as string;
	dim @errtitle as string;
	dim @errline as string;
	//差错登记格式 要素名称,原值,输入值|
	if(#C1=='1'){
		//showmsg(#L1);
		if(#L1=='0'){
			if(val(#T1)==val(#TEXT1)){
				@f1='0';
			}
			else{
				@f1='1';
			}
		}
		else{
			if(rtrim(#T1)==rtrim(#TEXT1)){
				@f1='0';
                       	}
                       	else{
				@f1='1';
                       	}
		}
		if(@f1=='1'){
			@e1=rtrim(#TNAME1)+space(12)+rtrim(#T1)+space(10)+#TEXT1;
			@eg1=rtrim(#TNAME1)+':原'+rtrim(#T1)+'核对'+#TEXT1;
			@errmsg=@eg1;
		}
	}
	if(#C2=='1'){
		if(#L2=='0'){
			if(val(#T2)==val(#TEXT2)){
				@f2='0';
			}
			else{
				@f2='1';
			}
		}
		else{
			if(rtrim(#T2)==rtrim(#TEXT2)){
				@f2='0';
                       	}
                       	else{
				@f2='1';
                       	}
		}
		if(@f2=='1'){
			@e2=rtrim(#TNAME2)+space(12)+rtrim(#T2)+space(10)+#TEXT2;
			@eg2=rtrim(#TNAME2)+':原'+rtrim(#T2)+'核对'+#TEXT2;
			@errmsg=@errmsg+'|'+@eg2;
		}
	}
	if(#C3=='1'){
		if(#L3=='0'){
			if(val(#T3)==val(#TEXT3)){
				@f3='0';
			}
			else{
				@f3='1';
			}
		}
		else{
			if(rtrim(#T3)==rtrim(#TEXT3)){
				@f3='0';
                       	}
                       	else{
				@f3='1';
                       	}
		}
		if(@f3=='1'){
			@e3=rtrim(#TNAME3)+space(12)+rtrim(#T3)+space(10)+#TEXT3;
			@eg3=rtrim(#TNAME3)+':原'+rtrim(#T3)+'核对'+#TEXT3;
			@errmsg=@errmsg+'|'+@eg3;
		}
	}
	if(#C4=='1'){
		if(#L4=='0'){
			if(val(#T4)==val(#TEXT4)){
				@f4='0';
			}
			else{
				@f4='1';
			}
		}
		else{
			if(rtrim(#T4)==rtrim(#TEXT4)){
				@f4='0';
                       	}
                       	else{
				@f4='1';
                       	}
		}
		if(@f4=='1'){
			@e4=rtrim(#TNAME4)+space(12)+rtrim(#T4)+space(10)+#TEXT4;
			@eg4=rtrim(#TNAME4)+':原'+rtrim(#T4)+'核对'+#TEXT4;
			@errmsg=@errmsg+'|'+@eg4;
		}
	}
	if(#C5=='1'){
		if(#L5=='0'){
			if(val(#T5)==val(#TEXT5)){
				@f5='0';
			}
			else{
				@f5='1';
			}
		}
		else{
			if(rtrim(#T5)==rtrim(#TEXT5)){
				@f5='0';
                       	}
                       	else{
				@f5='1';
                       	}
		}
		if(@f5=='1'){
			@e5=rtrim(#TNAME5)+space(12)+rtrim(#T5)+space(10)+#TEXT5;
			@eg5=rtrim(#TNAME5)+':原'+rtrim(#T5)+'核对'+#TEXT5;
			@errmsg=@errmsg+'|'+@eg5;
		}
	}
	if(#C6=='1'){
		if(#L6=='0'){
			if(val(#T6)==val(#TEXT6)){
				@f6='0';
			}
			else{
				@f6='1';
			}
		}
		else{
			if(rtrim(#T6)==rtrim(#TEXT6)){
				@f6='0';
                       	}
                       	else{
				@f6='1';
                       	}
		}
		if(@f6=='1'){
			@e6=rtrim(#TNAME6)+space(12)+rtrim(#T6)+space(10)+#TEXT6;
			@eg6=rtrim(#TNAME6)+':原'+rtrim(#T6)+'核对'+#TEXT6;
			@errmsg=@errmsg+'|'+@eg6;
		}
	}
	if(#C7=='1'){
		if(#L7=='0'){
			if(val(#T7)==val(#TEXT7)){
				@f7='0';
			}
			else{
				@f7='1';
			}
		}
		else{
			if(rtrim(#T7)==rtrim(#TEXT7)){
				@f7='0';
                       	}
                       	else{
				@f7='1';
                       	}
		}
		if(@f7=='1'){
			@e7=rtrim(#TNAME7)+space(12)+rtrim(#T7)+space(10)+#TEXT7;
			@eg6=rtrim(#TNAME7)+':原'+rtrim(#T7)+'核对'+#TEXT7;
			@errmsg=@errmsg+'|'+@eg7;
		}
	}
	if(#C8=='1'){
		if(#L8=='0'){
			if(val(#T8)==val(#TEXT8)){
				@f8='0';
			}
			else{
				@f8='1';
			}
		}
		else{
			if(rtrim(#T8)==rtrim(#TEXT8)){
				@f8='0';
                       	}
                       	else{
				@f8='1';
                       	}
		}
		if(@f8=='1'){
			@e8=rtrim(#TNAME8)+space(12)+rtrim(#T8)+space(10)+#TEXT8;
			@eg6=rtrim(#TNAME8)+':原'+rtrim(#T8)+'核对'+#TEXT8;
			@errmsg=@errmsg+'|'+@eg8;
		}
	}
	if(#C9=='1'){
		if(#L9=='0'){
			if(val(#T9)==val(#TEXT9)){
				@f9='0';
			}
			else{
				@f9='1';
			}
		}
		else{
			if(rtrim(#T9)==rtrim(#TEXT9)){
				@f9='0';
                       	}
                       	else{
				@f9='1';
                       	}
		}
		if(@f9=='1'){
			@e9=rtrim(#TNAME9)+space(12)+rtrim(#T9)+space(10)+#TEXT9;
			@eg6=rtrim(#TNAME9)+':原'+rtrim(#T9)+'核对'+#TEXT9;
			@errmsg=@errmsg+'|'+@eg9;
		}
	}
	if(#C10=='1'){
		if(#L10=='0'){
			if(val(#T10)==val(#TEXT10)){
				@f10='0';
			}
			else{
				@f10='1';
			}
		}
		else{
			if(rtrim(#T10)==rtrim(#TEXT10)){
				@f10='0';
                       	}
                       	else{
				@f10='1';
                       	}
		}
		if(@f10=='1'){
			@e10=rtrim(#TNAME10)+space(12)+rtrim(#T10)+space(14)+#TEXT10;
			@eg6=rtrim(#TNAME10)+':原'+rtrim(#T10)+'核对'+#TEXT10;
			@errmsg=@errmsg+'|'+@eg10;
		}
	}
if(@f1=='1' or @f2=='1' or @f3=='1' or @f4=='1' or @f5=='1' or @f6=='1' or  @f7=='1' or @f8=='1' or @f9=='1' or @f10=='1'){
		@screenmsg='[ 错误描述 ]';
		@errtitle='名称                     原值                        输入';
		@errline='-----------------------------------------------------------';
	}
	else{
		@screenmsg='[提示: 录入核对正确]';
	}
//	showmsg(#TEL);
┌─────────────────────────┐
	openprinter('screen');
	print(1,12,'                成功监督一笔流水');
	print(2,1,' ──┬──────────────────────────────┬──');
	print(3,6,'│                       [30]       │',@screenmsg);
	print(4,6,'│[60]│',@errline);
	print(5,6,'│[60]│',@errtitle);
	print(6,6,'│[60]│',@errline);
	print(7,6,'│[60]│',@e1);
	print(8,6,'│[60]│',@e2);
	print(9,6,'│[60]│',@e3);
	print(10,6,'│[60]│',@e4);
	print(11,6,'│[60]│',@e5);
	print(12,6,'│[60]│',@e6);
	print(13,6,'│[60]│',@e7);
	print(14,6,'│[60]│',@e8);
	print(15,6,'│[60]│',@e9);
	print(16,6,'└──────────────────────────────┘');
	closeprinter('screen');
	showmsg('请仔细检查!');
	if(confirm('要差错登记么?',1)=='Y'){
		@transfg='1';
		//错误信息不传递了
		//open('1041.XML','#XTRLNO='+#TEL+';#XWSSRNO='+#TRACENO+';#XDSCPT='+@errmsg+';#TRANSFG='+@transfg+';');
		open('1041.XML','#XTRLNO='+#TEL+';#XWSSRNO='+#TRACENO+';#TRANSFG='+@transfg+';');
	}
  }"
  </ONCLICK>
  </ITEM>
  <ITEM LINE="20"  COL="55" TYPE="%-8s" NAME="#SRETRY" FUNCTIONS="T(继续监督)" INPUT="BUTTON" >
  <ONCLICK>
  "{
	rerun();
  }"
  </ONCLICK>
  </ITEM>

  <ITEM LINE="20"  COL="67" TYPE="%-8s" NAME="#RETRY" FUNCTIONS="T(重新录入)" INPUT="BUTTON" >
  <ONCLICK>
  "{
	rerun();
  }"
  </ONCLICK>
  </ITEM>
</VARIABLE>

<REQUEST><PACKAGE SERVICE="dh39220">
$APCTLHD
 #HTRMSEQ#HEJFNO$OPNBR$KINBR#TRMSEQ#EJFNO#TASKID#TMTYPE#APTYPE#TXNO#PTYPE
 #DSCPT#HCODE#ACTNO#TXTYPE#MULTTX#CRDB$SUPCD1$SUPCD2#REASON$TLRNO
 #NBCD#TRNMOD#SBTMOD#CURCD#XCRT#TXAMT
</PACKAGE>
</REQUEST>
<RESPONSE>
</RESPONSE>
<OUTPUT>
</OUTPUT>
</TRANSACTION>
